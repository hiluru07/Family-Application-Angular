<div class="container mt-5 d-flex justify-content-center">
  <div class="card shadow-lg p-4 rounded-4" style="max-width: 400px; width: 100%;">
    
    <!-- Card Header -->
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h4 class="text-primary fw-bold mb-0">
        <i class="bi bi-person-circle me-2"></i> Admin Info
      </h4>
      <a routerLink="/admin-dashboard" class="btn btn-outline-secondary btn-sm">
        <i class="bi bi-arrow-left-circle me-1"></i> Back
      </a>
    </div>

    <!-- Profile Image -->
    <div class="text-center mb-3">
      <img 
        [src]="admin.profileImage ? imageBaseUrl + '/Images/' + admin.profileImage : 'assets/defaultImage.png'" 
        class="rounded-circle border border-3 border-primary" 
        width="100" height="100" 
        alt="Admin Profile"
      />
    </div>

    <!-- Admin Details -->
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <i class="bi bi-person-badge-fill text-primary me-2"></i>
        <strong>Username:</strong> {{admin.username}}
      </li>
      <li class="list-group-item">
        <i class="bi bi-card-text text-success me-2"></i>
        <strong>Name:</strong> {{admin.fname}} {{admin.lname}}
      </li>
      <li class="list-group-item">
        <i class="bi bi-telephone-fill text-warning me-2"></i>
        <strong>Phone:</strong> {{admin.phone}}
      </li>
      <li class="list-group-item">
        <i class="bi bi-envelope-fill text-danger me-2"></i>
        <strong>Email:</strong> {{admin.email}}
      </li>
    </ul>

    <!-- Edit Button -->
    <div class="d-grid mt-3">
      <button class="btn btn-primary" (click)="EditAdmin(admin)">
        <i class="bi bi-pencil-square me-1"></i> Edit Admin
      </button>
    </div>

  </div>
</div>

<!-- EDIT MODAL -->
<div class="modal fade" #EditModal tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header bg-success text-white">
        <h5 class="modal-title">Edit Admin</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <form [formGroup]="EditForm" (ngSubmit)="submit()">

        <div class="modal-body">

          <!-- PROFILE IMAGE SELECT -->
          <div class="text-center mb-3">
            <img 
              [src]="preview || (admin.profileImage ? imageBaseUrl + '/Images/' + admin.profileImage : 'assets/defaultImage.png')" 
              class="rounded-circle border border-2 border-primary mb-2" 
              width="80" height="80" 
              alt="Profile Preview"
            />
            <div>
              <button type="button" class="btn btn-secondary btn-sm" (click)="fileInput.click()">Select Image</button>
              <input type="file" #fileInput hidden accept="image/*" (change)="onSelectedFile($event)">
            </div>
          </div>

          <!-- USERNAME -->
          <div class="mb-2">
            <label class="form-label">Username</label>
            <input class="form-control" formControlName="username">
            <small class="text-danger" *ngIf="username.invalid && username.touched">Username required</small>
          </div>

          <!-- FIRST NAME -->
          <div class="mb-2">
            <label class="form-label">First Name</label>
            <input class="form-control" formControlName="fname">
            <small class="text-danger" *ngIf="fname.invalid && fname.touched">First name required</small>
          </div>

          <!-- LAST NAME -->
          <div class="mb-2">
            <label class="form-label">Last Name</label>
            <input class="form-control" formControlName="lname">
            <small class="text-danger" *ngIf="lname.invalid && lname.touched">Last name required</small>
          </div>

          <!-- PHONE -->
          <div class="mb-2">
            <label class="form-label">Phone</label>
            <input class="form-control" formControlName="phone">
            <small class="text-danger" *ngIf="phone.invalid && phone.touched">Enter valid 10-digit phone number</small>
          </div>

          <!-- EMAIL -->
          <div class="mb-2">
            <label class="form-label">Email</label>
            <input class="form-control" formControlName="email">
            <small class="text-danger" *ngIf="email.invalid && email.touched">Enter valid email address</small>
          </div>

        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
          <button type="submit" class="btn btn-success" [disabled]="EditForm.invalid">Update</button>
        </div>
      </form>
    </div>
  </div>
</div>
